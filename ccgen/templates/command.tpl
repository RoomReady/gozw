// THIS FILE IS AUTO-GENERATED BY CCGEN
// DO NOT MODIFY

package {{.CommandClass.GetPackageName}}

// {{.Help}}
{{$version := .CommandClass.Version}}
{{$typeName := (ToGoName .Command.Name) "V" $version}}
type {{$typeName}} struct {
  {{range $_, $param := .Command.Params}}
    {{template "command-struct-fields.tpl" $param}}
  {{end}}
}

func (cmd *{{$typeName}}) UnmarshalBinary(data []byte) error {
  // According to the docs, we must copy data if we wish to retain it after returning
  payload := make([]byte, len(data))
  copy(payload, data)
  {{template "unmarshal-command-params.tpl" .Command.Params}}

  return nil
}

func (cmd *{{$typeName}}) MarshalBinary() (payload []byte, err error) {
  {{template "marshal-command-params.tpl" .Command.Params}}
  return
}
