// THIS FILE IS AUTO-GENERATED BY CCGEN
// DO NOT MODIFY

package commandclass

type CommandClassID byte

const (
  {{range .CommandClasses}}
  {{.GetConstName}} CommandClassID = {{.Key}}{{end}}
)

func (c CommandClassID) String() string {
  switch c {
    {{range .CommandClasses}}
    case {{.GetConstName}}:
      return "{{.Help}}"
    {{end}}
    default:
      return "Unknown" + fmt.Sprintf(" (0x%X)", c)
  }
}

func Parse(payload []byte) (interface{}, error) {
  switch CommandClassID(payload[0]) {
    {{range $_, $cc := .CommandClasses}}{{if .CanGen}}{{$version := .Version}}
    case {{.GetConstName}}:
      switch payload[1] {
        {{range .Commands}}case {{.Key}}:
          return {{$cc.GetPackageName}}.Parse{{(ToGoName .Name) "V" $version}}(payload), nil
        {{end}}default:
          return nil, errors.New("Unknown command")
      }
    {{end}}{{end}}
  }
}
